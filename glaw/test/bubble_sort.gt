proc bubble_sort()
    int length;
    int collection[6];
    int i;
    int j;
    bool swapped;
    bool flag;
    int tmp;
begin
    length := 6;
    collection[0] := 3;
    collection[1] := 6;
    collection[2] := 2;
    collection[3] := 1;
    collection[4] := 5;
    collection[5] := 4;
    write "unsorted: ";
    write collection[0];
    write collection[1];
    write collection[2];
    write collection[3];
    write collection[4];
    write collection[5];
    write "\n";

    flag := true;
    while flag do
        swapped := false;
        i := 1;
        while i < length do
            if collection[i - 1] > collection[i] then
                tmp := collection[i];
                collection[i] := collection [i - 1];
                collection [i - 1] := tmp;
                swapped := true;
            fi
            i := i + 1;
        od
        if !swapped then
            flag := false;
        fi
    od

    write "sorted: ";
    write collection[0];
    write collection[1];
    write collection[2];
    write collection[3];
    write collection[4];
    write collection[5];
    write "\n";
end

proc main()
begin
    write "Hello, this is a bubble sort.\n";
    call bubble_sort();
end