proc move(val int disks, val int source, val int auxiliary, val int target)
begin
    if (disks > 0) then
        # move N-1 discs from source to auxiliary using target 
		# as intermediate pole
        call move(disks - 1, source, target, auxiliary);

        # move one disc from source to target
        write "Move disk ";
        write disks;
        write " from ";
        write source;
        write "->";
        write target;
        write "\n";

        # move N-1 discs from auxiliary to target using source 
		# as intermediate pole
        call move(disks - 1, auxiliary, source, target);
    fi
end

proc tower_of_hanoi()
    int N;
begin
    N := 3;
    call move(N, 1, 2, 3);
end

proc main()
begin
    write "Hello, this is a Tower of Hanoi.\n";
    call tower_of_hanoi();
end